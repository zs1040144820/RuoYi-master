{"remainingRequest":"C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\src\\views\\vuln\\repository\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\src\\views\\vuln\\repository\\index.vue","mtime":1686732510000},{"path":"C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\babel.config.js","mtime":1686732510000},{"path":"C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1687240770813},{"path":"C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1687240784151},{"path":"C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1687240770813},{"path":"C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1687240772826}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9URUwxNzU2MjAyNDIwNi9EZXNrdG9wL0Rlc2t0b3AvcnVveWktdWktbWFzdGVyL3J1b3lpLXVpLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKdmFyIF9vYmplY3RTcHJlYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJDOi9Vc2Vycy9URUwxNzU2MjAyNDIwNi9EZXNrdG9wL0Rlc2t0b3AvcnVveWktdWktbWFzdGVyL3J1b3lpLXVpLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RTcHJlYWQyLmpzIikpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnZhciBfcmVwb3NpdG9yeSA9IHJlcXVpcmUoIkAvYXBpL3Z1bG4vcmVwb3NpdG9yeSIpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogIlJlcG9zaXRvcnkiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy8g6YCJ5Lit5pWw57uECiAgICAgIGlkczogW10sCiAgICAgIC8vIOmdnuWNleS4quemgeeUqAogICAgICBzaW5nbGU6IHRydWUsCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqAogICAgICBtdWx0aXBsZTogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g5ryP5rSe5bqT6KGo5qC85pWw5o2uCiAgICAgIHJlcG9zaXRvcnlMaXN0OiBbXSwKICAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgIHRpdGxlOiAiIiwKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCCiAgICAgIG9wZW46IGZhbHNlLAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICBzY3JpcHROYW1lOiBudWxsLAogICAgICAgIHNjcmlwdERlc2NyaXB0aW9uOiBudWxsCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgLy/mj4/ov7AKICAgICAgZGVzOiAiIiwKICAgICAgdXBkYXRlSWNvbjogImVsLWljb24tY2hlY2siLAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHsKICAgICAgICBzY3JpcHROYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6ISa5pys5ZCN56ew5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVDdXJyZW50UGFnZTogZnVuY3Rpb24gdXBkYXRlQ3VycmVudFBhZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzWyJwYWdlIl0uY3VycmVudFBhZ2U7CiAgICB9LAogICAgLyoqIOafpeivoua8j+a0nuW6k+WIl+ihqCAqL2dldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICgwLCBfcmVwb3NpdG9yeS5saXN0UmVwb3NpdG9yeSkodGhpcy5xdWVyeVBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5yZXBvc2l0b3J5TGlzdCA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXNwb25zZS50b3RhbDsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMudXBkYXRlSWNvbiA9ICJlbC1pY29uLWNoZWNrIjsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIHNjcmlwdElkOiBudWxsLAogICAgICAgIHNjcmlwdE5hbWU6IG51bGwsCiAgICAgICAgc2NyaXB0RGVzY3JpcHRpb246IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5yZXNldEZvcm0oImZvcm0iKTsKICAgIH0sCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovaGFuZGxlUXVlcnk6IGZ1bmN0aW9uIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0gPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovcmVzZXRRdWVyeTogZnVuY3Rpb24gcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5yZXNldEZvcm0oInF1ZXJ5Rm9ybSIpOwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uc2NyaXB0SWQ7CiAgICAgIH0pOwogICAgICB0aGlzLnNpbmdsZSA9IHNlbGVjdGlvbi5sZW5ndGggIT09IDE7CiAgICAgIHRoaXMubXVsdGlwbGUgPSAhc2VsZWN0aW9uLmxlbmd0aDsKICAgIH0sCiAgICAvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovaGFuZGxlQWRkOiBmdW5jdGlvbiBoYW5kbGVBZGQoKSB7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsKICAgICAgdGhpcy50aXRsZSA9ICLmt7vliqDmvI/mtJ7lupMiOwogICAgfSwKICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi9oYW5kbGVVcGRhdGU6IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgdmFyIHNjcmlwdElkID0gcm93LnNjcmlwdElkIHx8IHRoaXMuaWRzOwogICAgICAoMCwgX3JlcG9zaXRvcnkuZ2V0UmVwb3NpdG9yeSkoc2NyaXB0SWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmZvcm0gPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzMi5vcGVuID0gdHJ1ZTsKICAgICAgICBfdGhpczIudGl0bGUgPSAi5L+u5pS55ryP5rSe5bqTIjsKICAgICAgfSk7CiAgICB9LAogICAgLyog5pu05paw6ISa5pysICovaGFuZGxlVXBkYXRlU2NyaXB0OiBmdW5jdGlvbiBoYW5kbGVVcGRhdGVTY3JpcHQoKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmV2b2x2ZSkgewogICAgICAgIHJldm9sdmUoKDAsIF9yZXBvc2l0b3J5LnVwZGF0ZVNjcmlwdCkoKSk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVVwZGF0ZVNjcmlwdDE6IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZVNjcmlwdDEoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB0aGlzLnVwZGF0ZUljb24gPSAiZWwtaWNvbi1sb2FkaW5nIjsKICAgICAgdGhpcy5oYW5kbGVVcGRhdGVTY3JpcHQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuZ2V0TGlzdCgpOwogICAgICB9KTsKICAgIH0sCiAgICAvKiDlsZXnpLrmj4/ov7AgKi9zaG93RGVzY3JpcHRpb246IGZ1bmN0aW9uIHNob3dEZXNjcmlwdGlvbihyb3cpIHsKICAgICAgY29uc29sZS5sb2cocm93LnNjcmlwdERlc2NyaXB0aW9uKTsKICAgICAgdGhpcy5kZXMgPSByb3cuc2NyaXB0RGVzY3JpcHRpb247CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHRoaXMudGl0bGUgPSByb3cuc2NyaXB0TmFtZTsKICAgIH0sCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmIChfdGhpczQuZm9ybS5zY3JpcHRJZCAhPSBudWxsKSB7CiAgICAgICAgICAgICgwLCBfcmVwb3NpdG9yeS51cGRhdGVSZXBvc2l0b3J5KShfdGhpczQuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBfdGhpczQuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuS/ruaUueaIkOWKnyIpOwogICAgICAgICAgICAgIF90aGlzNC5vcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgX3RoaXM0LmdldExpc3QoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAoMCwgX3JlcG9zaXRvcnkuYWRkUmVwb3NpdG9yeSkoX3RoaXM0LmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgX3RoaXM0LiRtb2RhbC5tc2dTdWNjZXNzKCLmlrDlop7miJDlip8iKTsKICAgICAgICAgICAgICBfdGhpczQub3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgIF90aGlzNC5nZXRMaXN0KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqL2hhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKHJvdykgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgdmFyIHNjcmlwdElkcyA9IHJvdy5zY3JpcHRJZCB8fCB0aGlzLmlkczsKICAgICAgdGhpcy4kbW9kYWwuY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk5ryP5rSe5bqT57yW5Y+35Li6IicgKyBzY3JpcHRJZHMgKyAnIueahOaVsOaNrumhue+8nycpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAoMCwgX3JlcG9zaXRvcnkuZGVsUmVwb3NpdG9yeSkoc2NyaXB0SWRzKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LmdldExpc3QoKTsKICAgICAgICBfdGhpczUuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgLyoqIOWvvOWHuuaMiemSruaTjeS9nCAqL2hhbmRsZUV4cG9ydDogZnVuY3Rpb24gaGFuZGxlRXhwb3J0KCkgewogICAgICB0aGlzLmRvd25sb2FkKCd2dWxuL3JlcG9zaXRvcnkvZXhwb3J0JywgKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKHt9LCB0aGlzLnF1ZXJ5UGFyYW1zKSwgInJlcG9zaXRvcnlfIi5jb25jYXQobmV3IERhdGUoKS5nZXRUaW1lKCksICIueGxzeCIpKTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"names":["_repository","require","name","data","loading","ids","single","multiple","showSearch","total","repositoryList","title","open","queryParams","pageNum","pageSize","scriptName","scriptDescription","form","des","updateIcon","rules","required","message","trigger","created","getList","methods","updateCurrentPage","$refs","currentPage","_this","listRepository","then","response","rows","cancel","reset","scriptId","resetForm","handleQuery","resetQuery","handleSelectionChange","selection","map","item","length","handleAdd","handleUpdate","row","_this2","getRepository","handleUpdateScript","Promise","revolve","updateScript","handleUpdateScript1","_this3","showDescription","console","log","submitForm","_this4","validate","valid","updateRepository","$modal","msgSuccess","addRepository","handleDelete","_this5","scriptIds","confirm","delRepository","catch","handleExport","download","_objectSpread2","default","concat","Date","getTime","exports","_default"],"sources":["src/views/vuln/repository/index.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\n      <el-form-item label=\"脚本名称\" prop=\"scriptName\">\n        <el-input\n          v-model=\"queryParams.scriptName\"\n          placeholder=\"请输入脚本名称\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"脚本描述\" prop=\"scriptDescription\">\n        <el-input\n          v-model=\"queryParams.scriptDescription\"\n          placeholder=\"请输入脚本描述\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          :disabled=\"multiple\"\n          @click=\"handleDelete\"\n          v-hasPermi=\"['vuln:repository:remove']\"\n        >删除</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"warning\"\n          plain\n          icon=\"el-icon-download\"\n          size=\"mini\"\n          @click=\"handleExport\"\n          v-hasPermi=\"['vuln:repository:export']\"\n        >导出</el-button>\n      </el-col>\n      <el-button\n        type=\"success\"\n        plain\n        :icon=\"this.updateIcon\"\n        size=\"mini\"\n        @click=\"handleUpdateScript1\"\n        v-hasPermi=\"['vuln:repository:updateScript']\"\n      >更新</el-button>\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n    </el-row>\n\n    <el-table v-loading=\"loading\" :data=\"repositoryList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"序号\" type=\"index\" width=\"50\" >\n        <template slot-scope=\"scope\">\n          {{ (scope.$index+1)+(updateCurrentPage()-1)*queryParams.pageSize }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"脚本名称\" align=\"center\" prop=\"scriptName\" />\n      <el-table-column label=\"脚本描述\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-view\"\n            @click=\"showDescription(scope.row)\"\n\n          >查看</el-button>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleDelete(scope.row)\"\n            v-hasPermi=\"['vuln:repository:remove']\"\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n      ref=\"page\"\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n\n    <!-- 查看描述弹框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"800px\" append-to-body>\n      <el-card class=\"box-card\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>脚本描述</span>\n        </div>\n        <div v-html=\"des\" style=\"white-space:pre-wrap\">\n        </div>\n      </el-card>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"cancel\">关 闭</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { updateScript, listRepository, getRepository, delRepository, addRepository, updateRepository } from \"@/api/vuln/repository\";\n\nexport default {\n  name: \"Repository\",\n  data() {\n    return {\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 漏洞库表格数据\n      repositoryList: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        scriptName: null,\n        scriptDescription: null\n      },\n      // 表单参数\n      form: {},\n      //描述\n      des: \"\",\n      updateIcon:\"el-icon-check\",\n      // 表单校验\n      rules: {\n        scriptName: [\n          { required: true, message: \"脚本名称不能为空\", trigger: \"blur\" }\n        ],\n      }\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    updateCurrentPage() {\n      return this.$refs[\"page\"].currentPage;\n    },\n    /** 查询漏洞库列表 */\n    getList() {\n      this.loading = true;\n      listRepository(this.queryParams).then(response => {\n        this.repositoryList = response.rows;\n        this.total = response.total;\n        this.loading = false;\n        this.updateIcon = \"el-icon-check\";\n      });\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        scriptId: null,\n        scriptName: null,\n        scriptDescription: null\n      };\n      this.resetForm(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.scriptId)\n      this.single = selection.length!==1\n      this.multiple = !selection.length\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset();\n      this.open = true;\n      this.title = \"添加漏洞库\";\n    },\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.reset();\n      const scriptId = row.scriptId || this.ids\n      getRepository(scriptId).then(response => {\n        this.form = response.data;\n        this.open = true;\n        this.title = \"修改漏洞库\";\n      });\n    },\n\n\n\n    /* 更新脚本 */\n    handleUpdateScript(){\n      return new Promise((revolve)=>{\n        revolve(\n          updateScript()\n        );\n      })\n    },\n    handleUpdateScript1(){\n      this.updateIcon = \"el-icon-loading\";\n      this.handleUpdateScript().then(()=>{\n        this.getList();\n      })\n    },\n\n    /* 展示描述 */\n    showDescription(row){\n      console.log(row.scriptDescription);\n      this.des = row.scriptDescription;\n      this.open = true;\n      this.title = row.scriptName;\n    },\n\n\n\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          if (this.form.scriptId != null) {\n            updateRepository(this.form).then(response => {\n              this.$modal.msgSuccess(\"修改成功\");\n              this.open = false;\n              this.getList();\n            });\n          } else {\n            addRepository(this.form).then(response => {\n              this.$modal.msgSuccess(\"新增成功\");\n              this.open = false;\n              this.getList();\n            });\n          }\n        }\n      });\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const scriptIds = row.scriptId || this.ids;\n      this.$modal.confirm('是否确认删除漏洞库编号为\"' + scriptIds + '\"的数据项？').then(function() {\n        return delRepository(scriptIds);\n      }).then(() => {\n        this.getList();\n        this.$modal.msgSuccess(\"删除成功\");\n      }).catch(() => {});\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      this.download('vuln/repository/export', {\n        ...this.queryParams\n      }, `repository_${new Date().getTime()}.xlsx`)\n    }\n  }\n};\n</script>\n"],"mappings":";;;;;;;;;;AAoHA,IAAAA,WAAA,GAAAC,OAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACA;MACAC,OAAA;MACA;MACAC,GAAA;MACA;MACAC,MAAA;MACA;MACAC,QAAA;MACA;MACAC,UAAA;MACA;MACAC,KAAA;MACA;MACAC,cAAA;MACA;MACAC,KAAA;MACA;MACAC,IAAA;MACA;MACAC,WAAA;QACAC,OAAA;QACAC,QAAA;QACAC,UAAA;QACAC,iBAAA;MACA;MACA;MACAC,IAAA;MACA;MACAC,GAAA;MACAC,UAAA;MACA;MACAC,KAAA;QACAL,UAAA,GACA;UAAAM,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,OAAA;IACAC,iBAAA,WAAAA,kBAAA;MACA,YAAAC,KAAA,SAAAC,WAAA;IACA;IACA,cACAJ,OAAA,WAAAA,QAAA;MAAA,IAAAK,KAAA;MACA,KAAA3B,OAAA;MACA,IAAA4B,0BAAA,OAAAnB,WAAA,EAAAoB,IAAA,WAAAC,QAAA;QACAH,KAAA,CAAArB,cAAA,GAAAwB,QAAA,CAAAC,IAAA;QACAJ,KAAA,CAAAtB,KAAA,GAAAyB,QAAA,CAAAzB,KAAA;QACAsB,KAAA,CAAA3B,OAAA;QACA2B,KAAA,CAAAX,UAAA;MACA;IACA;IACA;IACAgB,MAAA,WAAAA,OAAA;MACA,KAAAxB,IAAA;MACA,KAAAyB,KAAA;IACA;IACA;IACAA,KAAA,WAAAA,MAAA;MACA,KAAAnB,IAAA;QACAoB,QAAA;QACAtB,UAAA;QACAC,iBAAA;MACA;MACA,KAAAsB,SAAA;IACA;IACA,aACAC,WAAA,WAAAA,YAAA;MACA,KAAA3B,WAAA,CAAAC,OAAA;MACA,KAAAY,OAAA;IACA;IACA,aACAe,UAAA,WAAAA,WAAA;MACA,KAAAF,SAAA;MACA,KAAAC,WAAA;IACA;IACA;IACAE,qBAAA,WAAAA,sBAAAC,SAAA;MACA,KAAAtC,GAAA,GAAAsC,SAAA,CAAAC,GAAA,WAAAC,IAAA;QAAA,OAAAA,IAAA,CAAAP,QAAA;MAAA;MACA,KAAAhC,MAAA,GAAAqC,SAAA,CAAAG,MAAA;MACA,KAAAvC,QAAA,IAAAoC,SAAA,CAAAG,MAAA;IACA;IACA,aACAC,SAAA,WAAAA,UAAA;MACA,KAAAV,KAAA;MACA,KAAAzB,IAAA;MACA,KAAAD,KAAA;IACA;IACA,aACAqC,YAAA,WAAAA,aAAAC,GAAA;MAAA,IAAAC,MAAA;MACA,KAAAb,KAAA;MACA,IAAAC,QAAA,GAAAW,GAAA,CAAAX,QAAA,SAAAjC,GAAA;MACA,IAAA8C,yBAAA,EAAAb,QAAA,EAAAL,IAAA,WAAAC,QAAA;QACAgB,MAAA,CAAAhC,IAAA,GAAAgB,QAAA,CAAA/B,IAAA;QACA+C,MAAA,CAAAtC,IAAA;QACAsC,MAAA,CAAAvC,KAAA;MACA;IACA;IAIA,UACAyC,kBAAA,WAAAA,mBAAA;MACA,WAAAC,OAAA,WAAAC,OAAA;QACAA,OAAA,CACA,IAAAC,wBAAA,GACA;MACA;IACA;IACAC,mBAAA,WAAAA,oBAAA;MAAA,IAAAC,MAAA;MACA,KAAArC,UAAA;MACA,KAAAgC,kBAAA,GAAAnB,IAAA;QACAwB,MAAA,CAAA/B,OAAA;MACA;IACA;IAEA,UACAgC,eAAA,WAAAA,gBAAAT,GAAA;MACAU,OAAA,CAAAC,GAAA,CAAAX,GAAA,CAAAhC,iBAAA;MACA,KAAAE,GAAA,GAAA8B,GAAA,CAAAhC,iBAAA;MACA,KAAAL,IAAA;MACA,KAAAD,KAAA,GAAAsC,GAAA,CAAAjC,UAAA;IACA;IAIA,WACA6C,UAAA,WAAAA,WAAA;MAAA,IAAAC,MAAA;MACA,KAAAjC,KAAA,SAAAkC,QAAA,WAAAC,KAAA;QACA,IAAAA,KAAA;UACA,IAAAF,MAAA,CAAA5C,IAAA,CAAAoB,QAAA;YACA,IAAA2B,4BAAA,EAAAH,MAAA,CAAA5C,IAAA,EAAAe,IAAA,WAAAC,QAAA;cACA4B,MAAA,CAAAI,MAAA,CAAAC,UAAA;cACAL,MAAA,CAAAlD,IAAA;cACAkD,MAAA,CAAApC,OAAA;YACA;UACA;YACA,IAAA0C,yBAAA,EAAAN,MAAA,CAAA5C,IAAA,EAAAe,IAAA,WAAAC,QAAA;cACA4B,MAAA,CAAAI,MAAA,CAAAC,UAAA;cACAL,MAAA,CAAAlD,IAAA;cACAkD,MAAA,CAAApC,OAAA;YACA;UACA;QACA;MACA;IACA;IACA,aACA2C,YAAA,WAAAA,aAAApB,GAAA;MAAA,IAAAqB,MAAA;MACA,IAAAC,SAAA,GAAAtB,GAAA,CAAAX,QAAA,SAAAjC,GAAA;MACA,KAAA6D,MAAA,CAAAM,OAAA,mBAAAD,SAAA,aAAAtC,IAAA;QACA,WAAAwC,yBAAA,EAAAF,SAAA;MACA,GAAAtC,IAAA;QACAqC,MAAA,CAAA5C,OAAA;QACA4C,MAAA,CAAAJ,MAAA,CAAAC,UAAA;MACA,GAAAO,KAAA;IACA;IACA,aACAC,YAAA,WAAAA,aAAA;MACA,KAAAC,QAAA,+BAAAC,cAAA,CAAAC,OAAA,MACA,KAAAjE,WAAA,iBAAAkE,MAAA,CACA,IAAAC,IAAA,GAAAC,OAAA;IACA;EACA;AACA;AAAAC,OAAA,CAAAJ,OAAA,GAAAK,QAAA"}]}