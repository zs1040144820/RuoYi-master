{"remainingRequest":"D:\\SoftwareData\\IntelliJ IDEAData\\RuoYi\\ruoyi-master\\ruoyi-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SoftwareData\\IntelliJ IDEAData\\RuoYi\\ruoyi-master\\ruoyi-master\\src\\views\\addrgen\\collect\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\SoftwareData\\IntelliJ IDEAData\\RuoYi\\ruoyi-master\\ruoyi-master\\src\\views\\addrgen\\collect\\index.vue","mtime":1686732510000},{"path":"D:\\SoftwareData\\IntelliJ IDEAData\\RuoYi\\ruoyi-master\\ruoyi-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1687240770813},{"path":"D:\\SoftwareData\\IntelliJ IDEAData\\RuoYi\\ruoyi-master\\ruoyi-master\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1687240784151},{"path":"D:\\SoftwareData\\IntelliJ IDEAData\\RuoYi\\ruoyi-master\\ruoyi-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1687240770813},{"path":"D:\\SoftwareData\\IntelliJ IDEAData\\RuoYi\\ruoyi-master\\ruoyi-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1687240772826}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGxpc3RKb2IsIGxpc3RDb2xsZWN0LCBnZXRDb2xsZWN0LCBkZWxDb2xsZWN0LCBhZGRDb2xsZWN0LCB1cGRhdGVDb2xsZWN0IH0gZnJvbSAiQC9hcGkvYWRkcmdlbi9jb2xsZWN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDb2xsZWN0IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgam9iTGlzdDpbXSwKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8vIOmAieS4reaVsOe7hAogICAgICBpZHM6IFtdLAogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgKICAgICAgc2luZ2xlOiB0cnVlLAogICAgICAvLyDpnZ7lpJrkuKrnpoHnlKgKICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOenjeWtkOaWh+S7tumHh+mbhuWOhuWPsuiusOW9leihqOagvOaVsOaNrgogICAgICBjb2xsZWN0TGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogIiIsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgam9ib3BlbjogZmFsc2UsCiAgICAgIC8vIOaAu+WcsOWdgOaVsOaXtumXtOiMg+WbtAogICAgICBkYXRlcmFuZ2VDb2xsZWN0VGltZTogW10sCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIGFkZHJTZWVkZmlsZUlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgYWRkclNlZWRmaWxlTmFtZTogbnVsbCwKICAgICAgICBjb2xsZWN0VGltZTogbnVsbCwKICAgICAgICBjb2xsZWN0Q29uc3VtaW5nOiBudWxsLAogICAgICAgIGFjdGl2ZUlwbnVtOiBudWxsLAogICAgICAgIHRvdGFsSXBudW06IG51bGwKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHsKICAgICAgICBhZGRyU2VlZGZpbGVJZDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWklumUruS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9CiAgICAgICAgXSwKICAgICAgICBhZGRyU2VlZGZpbGVOYW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5paH5Lu25ZCN5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0KICAgICAgICBdLAogICAgICAgIGNvbGxlY3RUaW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6YeH6ZuG5pel5pyf5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0KICAgICAgICBdLAogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlQ3VycmVudFBhZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzWyJwYWdlIl0uY3VycmVudFBhZ2U7CiAgICB9LAogICAgLyoqIOafpeivouenjeWtkOaWh+S7tumHh+mbhuWOhuWPsuiusOW9leWIl+ihqCAqLwogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYXJhbXMgPSB7fTsKICAgICAgaWYgKG51bGwgIT0gdGhpcy5kYXRlcmFuZ2VDb2xsZWN0VGltZSAmJiAnJyAhPSB0aGlzLmRhdGVyYW5nZUNvbGxlY3RUaW1lKSB7CiAgICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYXJhbXNbImJlZ2luQ29sbGVjdFRpbWUiXSA9IHRoaXMuZGF0ZXJhbmdlQ29sbGVjdFRpbWVbMF07CiAgICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYXJhbXNbImVuZENvbGxlY3RUaW1lIl0gPSB0aGlzLmRhdGVyYW5nZUNvbGxlY3RUaW1lWzFdOwogICAgICB9CiAgICAgIGxpc3RDb2xsZWN0KHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuY29sbGVjdExpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS50b3RhbDsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgc2hvd0pvYk9wZW4ocm93KXsKICAgICAgdGhpcy5qb2JvcGVuID0gdHJ1ZTsKICAgICAgbGlzdEpvYihyb3cuYWRkclNlZWRmaWxlSWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICB0aGlzLmpvYkxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2codGhpcy5qb2JMaXN0KTsKICAgIH0sCiAgICAvLyDlj5bmtojmjInpkq4KICAgIGNhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0KCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgY29sbGVjdFJlY29yZElkOiBudWxsLAogICAgICAgIGFkZHJTZWVkZmlsZUlkOiBudWxsLAogICAgICAgIGFkZHJTZWVkZmlsZU5hbWU6IG51bGwsCiAgICAgICAgY29sbGVjdFRpbWU6IG51bGwsCiAgICAgICAgY29sbGVjdENvbnN1bWluZzogbnVsbCwKICAgICAgICBhY3RpdmVJcG51bTogbnVsbCwKICAgICAgICB0b3RhbElwbnVtOiBudWxsCiAgICAgIH07CiAgICAgIHRoaXMucmVzZXRGb3JtKCJmb3JtIik7CiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi8KICAgIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMuZGF0ZXJhbmdlQ29sbGVjdFRpbWUgPSBbXTsKICAgICAgdGhpcy5yZXNldEZvcm0oInF1ZXJ5Rm9ybSIpOwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0uY29sbGVjdFJlY29yZElkKQogICAgICB0aGlzLnNpbmdsZSA9IHNlbGVjdGlvbi5sZW5ndGghPT0xCiAgICAgIHRoaXMubXVsdGlwbGUgPSAhc2VsZWN0aW9uLmxlbmd0aAogICAgfSwKICAgIC8qKiDmlrDlop7mjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUFkZCgpIHsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gIua3u+WKoOenjeWtkOaWh+S7tumHh+mbhuWOhuWPsuiusOW9lSI7CiAgICB9LAogICAgLyoqIOS/ruaUueaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlVXBkYXRlKHJvdykgewogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIGNvbnN0IGNvbGxlY3RSZWNvcmRJZCA9IHJvdy5jb2xsZWN0UmVjb3JkSWQgfHwgdGhpcy5pZHMKICAgICAgZ2V0Q29sbGVjdChjb2xsZWN0UmVjb3JkSWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuZm9ybSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsKICAgICAgICB0aGlzLnRpdGxlID0gIuS/ruaUueenjeWtkOaWh+S7tumHh+mbhuWOhuWPsuiusOW9lSI7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDmj5DkuqTmjInpkq4gKi8KICAgIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAodGhpcy5mb3JtLmNvbGxlY3RSZWNvcmRJZCAhPSBudWxsKSB7CiAgICAgICAgICAgIHVwZGF0ZUNvbGxlY3QodGhpcy5mb3JtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKCLkv67mlLnmiJDlip8iKTsKICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhZGRDb2xsZWN0KHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbW9kYWwubXNnU3VjY2Vzcygi5paw5aKe5oiQ5YqfIik7CiAgICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRGVsZXRlKHJvdykgewogICAgICBjb25zdCBjb2xsZWN0UmVjb3JkSWRzID0gcm93LmNvbGxlY3RSZWNvcmRJZCB8fCB0aGlzLmlkczsKICAgICAgdGhpcy4kbW9kYWwuY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk56eN5a2Q5paH5Lu26YeH6ZuG5Y6G5Y+y6K6w5b2V57yW5Y+35Li6IicgKyBjb2xsZWN0UmVjb3JkSWRzICsgJyLnmoTmlbDmja7pobnvvJ8nKS50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBkZWxDb2xsZWN0KGNvbGxlY3RSZWNvcmRJZHMpOwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKCLliKDpmaTmiJDlip8iKTsKICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOwogICAgfSwKICAgIC8qKiDlr7zlh7rmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUV4cG9ydCgpIHsKICAgICAgdGhpcy5kb3dubG9hZCgnYWRkcmdlbi9jb2xsZWN0L2V4cG9ydCcsIHsKICAgICAgICAuLi50aGlzLnF1ZXJ5UGFyYW1zCiAgICAgIH0sIGBjb2xsZWN0XyR7bmV3IERhdGUoKS5nZXRUaW1lKCl9Lnhsc3hgKQogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/addrgen/collect","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\n      <el-form-item label=\"文件名\" prop=\"addrSeedfileName\">\n        <el-input\n          v-model=\"queryParams.addrSeedfileName\"\n          placeholder=\"请输入文件名\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"采集日期\">\n        <el-date-picker\n          v-model=\"daterangeCollectTime\"\n          style=\"width: 240px\"\n          value-format=\"yyyy-MM-dd\"\n          type=\"daterange\"\n          range-separator=\"-\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\"\n        ></el-date-picker>\n      </el-form-item>\n      <!--<el-form-item label=\"采集耗时\" prop=\"collectConsuming\">\n        <el-input\n          v-model=\"queryParams.collectConsuming\"\n          placeholder=\"请输入采集耗时\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>-->\n      <!--<el-form-item label=\"采集到的地址数\" prop=\"activeIpnum\">\n        <el-input\n          v-model=\"queryParams.activeIpnum\"\n          placeholder=\"请输入采集到的地址数\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>-->\n      <!--<el-form-item label=\"总地址数\" prop=\"totalIpnum\">\n        <el-input\n          v-model=\"queryParams.totalIpnum\"\n          placeholder=\"请输入总地址数\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>-->\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          :disabled=\"multiple\"\n          @click=\"handleDelete\"\n          v-hasPermi=\"['addrgen:collect:remove']\"\n        >删除</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"warning\"\n          plain\n          icon=\"el-icon-download\"\n          size=\"mini\"\n          @click=\"handleExport\"\n          v-hasPermi=\"['addrgen:collect:export']\"\n        >导出</el-button>\n      </el-col>\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n    </el-row>\n\n    <el-table v-loading=\"loading\" :data=\"collectList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"序号\" type=\"index\" width=\"50\" >\n        <template slot-scope=\"scope\">\n          {{ (scope.$index+1)+(updateCurrentPage()-1)*queryParams.pageSize }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"文件名\" align=\"center\" prop=\"addrSeedfileName\" />\n      <el-table-column label=\"采集日期\" align=\"center\" prop=\"collectTime\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <span>{{ parseTime(scope.row.collectTime, '{y}-{m}-{d}') }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"采集耗时\" align=\"center\" prop=\"collectConsuming\" />\n      <el-table-column label=\"采集到的地址数\" align=\"center\" prop=\"activeIpnum\" />\n      <el-table-column label=\"总地址数\" align=\"center\" prop=\"totalIpnum\" />\n      <el-table-column label=\"运行状态\" align=\"center\" prop=\"collectStatus\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.collectStatus === '1'\" type=\"success\">完成</el-tag>\n          <el-tag v-if=\"scope.row.collectStatus === '0'\">正在进行</el-tag>\n          <el-tag v-if=\"scope.row.collectStatus === '2'\" type=\"warning\">暂停</el-tag>\n          <!--<el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"showJobOpen(scope.row)\"\n          >详细</el-button>-->\n        </template>\n      </el-table-column>\n      <el-table-column label=\"详情\" align=\"center\" prop=\"collectStatus\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            @click=\"showJobOpen(scope.row)\"\n          >详细</el-button>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleDelete(scope.row)\"\n            v-hasPermi=\"['addrgen:collect:remove']\"\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n      ref=\"page\"\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n\n    <!-- 添加或修改种子文件采集历史记录对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"500px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n        <el-form-item label=\"外键\" prop=\"addrSeedfileId\">\n          <el-input v-model=\"form.addrSeedfileId\" placeholder=\"请输入外键\" />\n        </el-form-item>\n        <el-form-item label=\"文件名\" prop=\"addrSeedfileName\">\n          <el-input v-model=\"form.addrSeedfileName\" placeholder=\"请输入文件名\" />\n        </el-form-item>\n        <el-form-item label=\"采集日期\" prop=\"collectTime\">\n          <el-date-picker clearable\n            v-model=\"form.collectTime\"\n            type=\"date\"\n            value-format=\"yyyy-MM-dd\"\n            placeholder=\"请选择采集日期\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"采集耗时\" prop=\"collectConsuming\">\n          <el-input v-model=\"form.collectConsuming\" placeholder=\"请输入采集耗时\" />\n        </el-form-item>\n        <el-form-item label=\"采集到的地址数\" prop=\"activeIpnum\">\n          <el-input v-model=\"form.activeIpnum\" placeholder=\"请输入采集到的地址数\" />\n        </el-form-item>\n        <el-form-item label=\"总地址数\" prop=\"totalIpnum\">\n          <el-input v-model=\"form.totalIpnum\" placeholder=\"请输入总地址数\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n    <!-- 定时任务弹框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"jobopen\">\n      <el-table\n        :data=\"jobList\"\n        style=\"width: 100%\">\n        <el-table-column label=\"任务编号\" width=\"100\" align=\"center\" prop=\"jobId\" />\n        <el-table-column label=\"任务名称\" align=\"center\" prop=\"jobName\" />\n        <el-table-column label=\"调用目标字符串\" align=\"center\" prop=\"invokeTarget\"/>\n        <el-table-column label=\"cron执行表达式\" align=\"center\" prop=\"cronExpression\"/>\n        <el-table-column label=\"状态\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-switch\n              v-model=\"scope.row.status\"\n              active-value=\"0\"\n              inactive-value=\"1\"\n              @change=\"handleStatusChange(scope.row)\"\n            ></el-switch>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { listJob, listCollect, getCollect, delCollect, addCollect, updateCollect } from \"@/api/addrgen/collect\";\nexport default {\n  name: \"Collect\",\n  data() {\n    return {\n      jobList:[],\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 种子文件采集历史记录表格数据\n      collectList: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      jobopen: false,\n      // 总地址数时间范围\n      daterangeCollectTime: [],\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        addrSeedfileId: this.$route.params.id,\n        addrSeedfileName: null,\n        collectTime: null,\n        collectConsuming: null,\n        activeIpnum: null,\n        totalIpnum: null\n      },\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n        addrSeedfileId: [\n          { required: true, message: \"外键不能为空\", trigger: \"blur\" }\n        ],\n        addrSeedfileName: [\n          { required: true, message: \"文件名不能为空\", trigger: \"blur\" }\n        ],\n        collectTime: [\n          { required: true, message: \"采集日期不能为空\", trigger: \"blur\" }\n        ],\n      }\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    updateCurrentPage() {\n      return this.$refs[\"page\"].currentPage;\n    },\n    /** 查询种子文件采集历史记录列表 */\n    getList() {\n      this.loading = true;\n      this.queryParams.params = {};\n      if (null != this.daterangeCollectTime && '' != this.daterangeCollectTime) {\n        this.queryParams.params[\"beginCollectTime\"] = this.daterangeCollectTime[0];\n        this.queryParams.params[\"endCollectTime\"] = this.daterangeCollectTime[1];\n      }\n      listCollect(this.queryParams).then(response => {\n        this.collectList = response.rows;\n        this.total = response.total;\n        this.loading = false;\n      });\n    },\n    showJobOpen(row){\n      this.jobopen = true;\n      listJob(row.addrSeedfileId).then(response => {\n        console.log(response);\n        this.jobList = response.data;\n      });\n      console.log(this.jobList);\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        collectRecordId: null,\n        addrSeedfileId: null,\n        addrSeedfileName: null,\n        collectTime: null,\n        collectConsuming: null,\n        activeIpnum: null,\n        totalIpnum: null\n      };\n      this.resetForm(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.daterangeCollectTime = [];\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.collectRecordId)\n      this.single = selection.length!==1\n      this.multiple = !selection.length\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset();\n      this.open = true;\n      this.title = \"添加种子文件采集历史记录\";\n    },\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.reset();\n      const collectRecordId = row.collectRecordId || this.ids\n      getCollect(collectRecordId).then(response => {\n        this.form = response.data;\n        this.open = true;\n        this.title = \"修改种子文件采集历史记录\";\n      });\n    },\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          if (this.form.collectRecordId != null) {\n            updateCollect(this.form).then(response => {\n              this.$modal.msgSuccess(\"修改成功\");\n              this.open = false;\n              this.getList();\n            });\n          } else {\n            addCollect(this.form).then(response => {\n              this.$modal.msgSuccess(\"新增成功\");\n              this.open = false;\n              this.getList();\n            });\n          }\n        }\n      });\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const collectRecordIds = row.collectRecordId || this.ids;\n      this.$modal.confirm('是否确认删除种子文件采集历史记录编号为\"' + collectRecordIds + '\"的数据项？').then(function() {\n        return delCollect(collectRecordIds);\n      }).then(() => {\n        this.getList();\n        this.$modal.msgSuccess(\"删除成功\");\n      }).catch(() => {});\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      this.download('addrgen/collect/export', {\n        ...this.queryParams\n      }, `collect_${new Date().getTime()}.xlsx`)\n    }\n  }\n};\n</script>\n"]}]}