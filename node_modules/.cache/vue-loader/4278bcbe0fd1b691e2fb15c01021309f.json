{"remainingRequest":"C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\src\\views\\vuln\\history\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\src\\views\\vuln\\history\\index.vue","mtime":1686732510000},{"path":"C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1687240770813},{"path":"C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1687240784151},{"path":"C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1687240770813},{"path":"C:\\Users\\TEL17562024206\\Desktop\\Desktop\\ruoyi-ui-master\\ruoyi-ui-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1687240772826}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGxpc3RIaXN0b3J5LCBnZXRIaXN0b3J5LCBkZWxIaXN0b3J5LCBhZGRIaXN0b3J5LCB1cGRhdGVIaXN0b3J5LCBzY2FuVnVsbiB9IGZyb20gIkAvYXBpL3Z1bG4vaGlzdG9yeSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhpc3RvcnkiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy8g6YCJ5Lit5pWw57uECiAgICAgIGlkczogW10sCiAgICAgIC8vIOWtkOihqOmAieS4reaVsOaNrgogICAgICBjaGVja2VkVnVsblNpbmdsZUFkZHJEZXRhaWxzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDmvI/mtJ7miavmj4/ljoblj7LorrDlvZXooajmoLzmlbDmja4KICAgICAgaGlzdG9yeUxpc3Q6IFt7dnVsblRpbWU6IiJ9XSwKICAgICAgLy8g5Y2V5p2h5Zyw5Z2A5omr5o+P57uT5p6c6KGo5qC85pWw5o2uCiAgICAgIHZ1bG5TaW5nbGVBZGRyRGV0YWlsc0xpc3Q6IFtdLAogICAgICAvLyDlvLnlh7rlsYLmoIfpopgKICAgICAgdGl0bGU6ICIiLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIGNvbW1hbmQ6IG51bGwsCiAgICAgICAgdGFyZ2V0UmFuZ2U6IG51bGwsCiAgICAgICAgc2NhbkRhdGV0aW1lOiBudWxsLAogICAgICAgIGhpZ2hyaXNrUmF0ZTogbnVsbCwKICAgICAgICByZXN1bHRzOm51bGwsCiAgICAgICAgcG9ydFNlcnZpY2U6bnVsbCwKCiAgICAgIH0sCiAgICAgIENWRUxpc3Q6e30sCiAgICAgIHRpbWVvdXQ6bnVsbCwKICAgICAgLy8g5omr5o+P57uT5p6c5pe26Ze06IyD5Zu0CiAgICAgIGRhdGVyYW5nZVNjYW5EYXRldGltZTogW10sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgLy/nu5PmnpwKICAgICAgcmVzOiIiLAogICAgICBwaWNrZXJPcHRpb25zOiB7CiAgICAgICAgc2hvcnRjdXRzOiBbewogICAgICAgICAgdGV4dDogJ+S7iuWkqScsCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBuZXcgRGF0ZSgpKTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAn5pio5aSpJywKICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0KTsKICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgZGF0ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgdGV4dDogJ+S4gOWRqOWJjScsCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDcpOwogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBkYXRlKTsKICAgICAgICAgIH0KICAgICAgICB9XQogICAgICB9LAogICAgICAvLyDooajljZXmoKHpqowKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgICAvL3RoaXMuc2V0VGltZXIoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZUN1cnJlbnRQYWdlKCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmc1sicGFnZSJdLmN1cnJlbnRQYWdlOwogICAgfSwKICAgIHNldFRpbWVyKCl7CiAgICAgIHRoaXMudGltZW91dCA9IHNldEludGVydmFsKHRoaXMuZ2V0TGlzdCwxMDAwKTsKICAgIH0sCiAgICBjbGVhclRpbWVyKCl7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lb3V0KTsKICAgIH0sCiAgICBnZXRTY2FuVGltZShyb3cpewogICAgICAvL3RoaXMuZ2V0TGlzdCgpOwogICAgICB2YXIgZGF0ZTE9cm93LnNjYW5EYXRldGltZTsKICAgICAgY29uc29sZS5sb2coImVtZHRpbWUiK3Jvdy5zY2FuZWRUaW1lKTsKICAgICAgaWYgKHJvdy5zY2FuZWRUaW1lID09PSBudWxsICl7CiAgICAgICAgdmFyIGRhdGUyID0gbmV3IERhdGUoKTsKICAgICAgfWVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCJlbWR0aW1lIityb3cuc2NhbmVkVGltZSk7CiAgICAgICAgdmFyIGRhdGUyID0gcm93LnNjYW5lZFRpbWU7CiAgICAgIH0KICAgICAgY29uc29sZS5sb2coZGF0ZTEpOwogICAgICBjb25zb2xlLmxvZyhkYXRlMik7CiAgICAgIHZhciBkYXRlMyA9IG5ldyBEYXRlKGRhdGUyKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShkYXRlMSkuZ2V0VGltZSgpOyAgIC8v5pe26Ze05beu55qE5q+r56eS5pWwCiAgICAgIHZhciBzdWJNaW51dGVzID0gTWF0aC5mbG9vciggZGF0ZTMvKDYwKjEwMDApICk7IC8v6I635Y+W5oC75YWx55qE5YiG6ZKf5beuCiAgICAgIC8v6K6h566X5Ye655u45beu5aSp5pWwCiAgICAgIHZhciBkYXlzPU1hdGguZmxvb3IoZGF0ZTMvKDI0KjM2MDAqMTAwMCkpOwogICAgICAvL+iuoeeul+WHuuWwj+aXtuaVsAoKICAgICAgdmFyIGxlYXZlMT1kYXRlMyUoMjQqMzYwMCoxMDAwKSA7ICAgLy/orqHnrpflpKnmlbDlkI7liankvZnnmoTmr6vnp5LmlbAKICAgICAgdmFyIGhvdXJzPU1hdGguZmxvb3IobGVhdmUxLygzNjAwKjEwMDApKTsKICAgICAgLy/orqHnrpfnm7jlt67liIbpkp/mlbAKICAgICAgdmFyIGxlYXZlMj1sZWF2ZTElKDM2MDAqMTAwMCkgIDsgICAgICAvL+iuoeeul+Wwj+aXtuaVsOWQjuWJqeS9meeahOavq+enkuaVsAogICAgICB2YXIgbWludXRlcz1NYXRoLmZsb29yKGxlYXZlMi8oNjAqMTAwMCkpOwogICAgICAvL+iuoeeul+ebuOW3ruenkuaVsAogICAgICB2YXIgbGVhdmUzPWxlYXZlMiUoNjAqMTAwMCk7ICAgICAgLy/orqHnrpfliIbpkp/mlbDlkI7liankvZnnmoTmr6vnp5LmlbAKICAgICAgdmFyIHNlY29uZHM9TWF0aC5yb3VuZChsZWF2ZTMvMTAwMCk7CiAgICAgIGNvbnNvbGUubG9nKGRheXMrIuWkqSAiK2hvdXJzKyLlsI/ml7YgIittaW51dGVzKyIg5YiG6ZKfIitzZWNvbmRzKyIg56eSIik7CiAgICAgIHJldHVybiBkYXlzKyLlpKkgIitob3Vycysi5bCP5pe2ICIrbWludXRlcysiIOWIhumSnyIrc2Vjb25kcysiIOenkiI7CiAgICB9LAogICAgLyoqIOafpeivoua8j+a0nuaJq+aPj+WOhuWPsuiusOW9leWIl+ihqCAqLwogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYXJhbXMgPSB7fTsKICAgICAgaWYgKG51bGwgIT0gdGhpcy5kYXRlcmFuZ2VTY2FuRGF0ZXRpbWUgJiYgJycgIT0gdGhpcy5kYXRlcmFuZ2VTY2FuRGF0ZXRpbWUpIHsKICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhcmFtc1siYmVnaW5TY2FuRGF0ZXRpbWUiXSA9IHRoaXMuZGF0ZXJhbmdlU2NhbkRhdGV0aW1lWzBdOwogICAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFyYW1zWyJlbmRTY2FuRGF0ZXRpbWUiXSA9IHRoaXMuZGF0ZXJhbmdlU2NhbkRhdGV0aW1lWzFdOwogICAgICB9CiAgICAgIGxpc3RIaXN0b3J5KHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuaGlzdG9yeUxpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS50b3RhbDsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWwoKSB7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMgPSB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgY29tbWFuZDogbnVsbCwKICAgICAgICB0YXJnZXRSYW5nZTogbnVsbCwKICAgICAgICBzY2FuRGF0ZXRpbWU6IG51bGwsCiAgICAgICAgaGlnaHJpc2tSYXRlOiBudWxsLAogICAgICAgIHJlc3VsdHM6bnVsbCwKICAgICAgfTsKICAgICAgdGhpcy5kYXRlcmFuZ2VTY2FuRGF0ZXRpbWUgPSBbXTsKICAgICAgLy90aGlzLnZ1bG5TaW5nbGVBZGRyRGV0YWlsc0xpc3QgPSBbXTsKICAgICAgLy90aGlzLnJlc2V0KCJmb3JtIik7CiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi8KICAgIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgLy90aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0ucmVjb3Jkc0lkKQogICAgICB0aGlzLnNpbmdsZSA9IHNlbGVjdGlvbi5sZW5ndGghPT0xCiAgICAgIHRoaXMubXVsdGlwbGUgPSAhc2VsZWN0aW9uLmxlbmd0aAogICAgfSwKICAgIC8qKiDmlrDlop7mjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUFkZCgpIHsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gIua3u+WKoOa8j+a0nuaJq+aPj+WOhuWPsuiusOW9lSI7CiAgICB9LAogICAgLyoqIOaJq+aPj+a8j+a0niAqKi8KICAgIGhhbmRsZVNjYW5WdWxuKCl7CiAgICAgIHNjYW5WdWxuKCk7CiAgICB9LAoKICAgIC8qKiDmj5DkuqTmjInpkq4gKi8KICAgIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB0aGlzLmZvcm0udnVsblNpbmdsZUFkZHJEZXRhaWxzTGlzdCA9IHRoaXMudnVsblNpbmdsZUFkZHJEZXRhaWxzTGlzdDsKICAgICAgICAgIGlmICh0aGlzLmZvcm0ucmVjb3Jkc0lkICE9IG51bGwpIHsKICAgICAgICAgICAgdXBkYXRlSGlzdG9yeSh0aGlzLmZvcm0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuS/ruaUueaIkOWKnyIpOwogICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFkZEhpc3RvcnkodGhpcy5mb3JtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKCLmlrDlop7miJDlip8iKTsKICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvKiog5Yig6Zmk5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVEZWxldGUocm93KSB7CiAgICAgIGNvbnN0IHJlY29yZHNJZHMgPSByb3cucmVjb3Jkc0lkIHx8IHRoaXMuaWRzOwogICAgICB0aGlzLiRtb2RhbC5jb25maXJtKCfmmK/lkKbnoa7orqTliKDpmaTmvI/mtJ7miavmj4/ljoblj7LorrDlvZXnvJblj7fkuLoiJyArIHJlY29yZHNJZHMgKyAnIueahOaVsOaNrumhue+8nycpLnRoZW4oZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIGRlbEhpc3RvcnkocmVjb3Jkc0lkcyk7CiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgICB9KS5jYXRjaCgoKSA9PiB7fSk7CiAgICB9LAoKCS8qKiDljZXmnaHlnLDlnYDmiavmj4/nu5Pmnpzluo/lj7cgKi8KICAgIHJvd1Z1bG5TaW5nbGVBZGRyRGV0YWlsc0luZGV4KHsgcm93LCByb3dJbmRleCB9KSB7CiAgICAgIHJvdy5pbmRleCA9IHJvd0luZGV4ICsgMTsKICAgIH0sCiAgICAvKiog5Y2V5p2h5Zyw5Z2A5omr5o+P57uT5p6c5re75Yqg5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVBZGRWdWxuU2luZ2xlQWRkckRldGFpbHMoKSB7CiAgICAgIGxldCBvYmogPSB7fTsKICAgICAgb2JqLmlwdjZBZGRyID0gIiI7CiAgICAgIG9iai5yZXN1bHREZXRhaWxzID0gIiI7CiAgICAgIHRoaXMudnVsblNpbmdsZUFkZHJEZXRhaWxzTGlzdC5wdXNoKG9iaik7CiAgICB9LAogICAgLyoqIOWNleadoeWcsOWdgOaJq+aPj+e7k+aenOWIoOmZpOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRGVsZXRlVnVsblNpbmdsZUFkZHJEZXRhaWxzKCkgewogICAgICBpZiAodGhpcy5jaGVja2VkVnVsblNpbmdsZUFkZHJEZXRhaWxzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdGhpcy4kbW9kYWwubXNnRXJyb3IoIuivt+WFiOmAieaLqeimgeWIoOmZpOeahOWNleadoeWcsOWdgOaJq+aPj+e7k+aenOaVsOaNriIpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IHZ1bG5TaW5nbGVBZGRyRGV0YWlsc0xpc3QgPSB0aGlzLnZ1bG5TaW5nbGVBZGRyRGV0YWlsc0xpc3Q7CiAgICAgICAgY29uc3QgY2hlY2tlZFZ1bG5TaW5nbGVBZGRyRGV0YWlscyA9IHRoaXMuY2hlY2tlZFZ1bG5TaW5nbGVBZGRyRGV0YWlsczsKICAgICAgICB0aGlzLnZ1bG5TaW5nbGVBZGRyRGV0YWlsc0xpc3QgPSB2dWxuU2luZ2xlQWRkckRldGFpbHNMaXN0LmZpbHRlcihmdW5jdGlvbihpdGVtKSB7CiAgICAgICAgICByZXR1cm4gY2hlY2tlZFZ1bG5TaW5nbGVBZGRyRGV0YWlscy5pbmRleE9mKGl0ZW0uaW5kZXgpID09IC0xCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvKiog5aSN6YCJ5qGG6YCJ5Lit5pWw5o2uICovCiAgICBoYW5kbGVWdWxuU2luZ2xlQWRkckRldGFpbHNTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuY2hlY2tlZFZ1bG5TaW5nbGVBZGRyRGV0YWlscyA9IHNlbGVjdGlvbi5tYXAoaXRlbSA9PiBpdGVtLmluZGV4KQogICAgfSwKICAgIC8qKiDlr7zlh7rmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUV4cG9ydCgpIHsKICAgICAgdGhpcy5kb3dubG9hZCgndnVsbi9oaXN0b3J5L2V4cG9ydCcsIHsKICAgICAgICAuLi50aGlzLnF1ZXJ5UGFyYW1zCiAgICAgIH0sIGBoaXN0b3J5XyR7bmV3IERhdGUoKS5nZXRUaW1lKCl9Lnhsc3hgKQogICAgfSwKCiAgfQp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuLA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/vuln/history","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"100px\">\n      <el-form-item label=\"nmap命令\" prop=\"command\">\n        <el-input\n          v-model=\"queryParams.command\"\n          placeholder=\"请输入nmap命令\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"靶机地址\" prop=\"targetRange\">\n        <el-input\n          v-model=\"queryParams.targetRange\"\n          placeholder=\"请输入靶机地址\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"扫描时间\" prop=\"scanDatetime\">\n        <!--<el-date-picker clearable\n          v-model=\"queryParams.scanDatetime\"\n          type=\"date\"\n          value-format=\"yyyy-MM-dd\"\n          placeholder=\"请选择扫描时间\">\n        </el-date-picker>-->\n        <!--<el-date-picker clearable\n          v-model=\"queryParams.scanDatetime\"\n          type=\"datetime\"\n          placeholder=\"选择日期时间\"\n          align=\"right\"\n          :picker-options=\"pickerOptions\">\n        </el-date-picker>-->\n        <el-date-picker clearable\n          v-model=\"daterangeScanDatetime\"\n          style=\"width: 240px\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n          type=\"datetimerange\"\n          range-separator=\"-\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\"\n        ></el-date-picker>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          :disabled=\"multiple\"\n          @click=\"handleDelete\"\n          v-hasPermi=\"['vuln:history:remove']\"\n        >删除</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"warning\"\n          plain\n          icon=\"el-icon-download\"\n          size=\"mini\"\n          @click=\"handleExport\"\n          v-hasPermi=\"['vuln:history:export']\"\n        >导出</el-button>\n      </el-col>\n      <!--<el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          icon=\"el-icon-turn-off\"\n          size=\"mini\"\n          @click=\"clearTimer\"\n        >停止刷新</el-button>\n      </el-col>-->\n      <!--<router-link :to=\"'/scanvuln'\" tag=\"span\">\n        <el-button\n          type=\"warning\"\n          size=\"mini\"\n        >扫描漏洞</el-button>\n      </router-link>-->\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n    </el-row>\n    <el-table v-loading=\"loading\" :data=\"historyList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"序号\" type=\"index\" width=\"50\" >\n        <template slot-scope=\"scope\">\n          {{ (scope.$index+1)+(updateCurrentPage()-1)*queryParams.pageSize }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"任务标识\" align=\"center\" prop=\"uuid\" />\n      <el-table-column label=\"目标地址\" align=\"center\" prop=\"targetRange\" />\n      <el-table-column label=\"开始时间\" align=\"center\" prop=\"scanDatetime\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <!--<span>{{ parseTime(scope.row.scanDatetime, '{y}-{m}-{d} {h}:{i}:{s}') }}</span>-->\n          <span>{{parseTime(scope.row.scanDatetime)}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"已扫描时间\" align=\"center\"width=\"180\">\n        <template slot-scope=\"scope\">\n          {{getScanTime(scope.row)}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"指定端口\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.startport === '' && scope.row.endport === ''\" type=\"info\">未指定</el-tag>\n          <el-tag v-else>{{scope.row.startport}}-{{scope.row.endport}}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作系统探测\" align=\"center\" prop=\"fos\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.fos === true\" type=\"success\">开启</el-tag>\n          <el-tag v-if=\"scope.row.fos === false\" type=\"info\">未开启</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"端口服务探测\" align=\"center\" >\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.portService === true\" type=\"success\">开启</el-tag>\n          <el-tag v-if=\"scope.row.portService === false\" type=\"info\">未开启</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"数据库探测\" align=\"center\" prop=\"databasetype\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.databasetype === true\" type=\"success\">开启</el-tag>\n          <el-tag v-if=\"scope.row.databasetype === false\" type=\"info\">未开启</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"进度\" align=\"center\" prop=\"rate\" >\n        <template slot-scope=\"scope\">\n          <el-progress :text-inside=\"true\" :stroke-width=\"26\" :percentage=scope.row.rate></el-progress>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"详细信息\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <div>\n            <router-link :to=\"'/vuln/singleDetails/'+scope.row.recordsId\" style=\"color: #00afff;font-size: smaller\">查看</router-link>\n          </div>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleDelete(scope.row)\"\n            v-hasPermi=\"['vuln:history:remove']\"\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n      ref=\"page\"\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n\n    <!-- 查看结果对弹框框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"800px\" append-to-body>\n      <el-card class=\"box-card\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>扫描结果</span>\n        </div>\n        <div v-html=\"res\">\n        </div>\n      </el-card>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"cancel\">关 闭</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { listHistory, getHistory, delHistory, addHistory, updateHistory, scanVuln } from \"@/api/vuln/history\";\n\nexport default {\n  name: \"History\",\n  data() {\n    return {\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 子表选中数据\n      checkedVulnSingleAddrDetails: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 漏洞扫描历史记录表格数据\n      historyList: [{vulnTime:\"\"}],\n      // 单条地址扫描结果表格数据\n      vulnSingleAddrDetailsList: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        command: null,\n        targetRange: null,\n        scanDatetime: null,\n        highriskRate: null,\n        results:null,\n        portService:null,\n\n      },\n      CVEList:{},\n      timeout:null,\n      // 扫描结果时间范围\n      daterangeScanDatetime: [],\n      // 表单参数\n      form: {},\n      //结果\n      res:\"\",\n      pickerOptions: {\n        shortcuts: [{\n          text: '今天',\n          onClick(picker) {\n            picker.$emit('pick', new Date());\n          }\n        }, {\n          text: '昨天',\n          onClick(picker) {\n            const date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24);\n            picker.$emit('pick', date);\n          }\n        }, {\n          text: '一周前',\n          onClick(picker) {\n            const date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n            picker.$emit('pick', date);\n          }\n        }]\n      },\n      // 表单校验\n    };\n  },\n  created() {\n    this.getList();\n    //this.setTimer();\n  },\n  methods: {\n    updateCurrentPage() {\n      return this.$refs[\"page\"].currentPage;\n    },\n    setTimer(){\n      this.timeout = setInterval(this.getList,1000);\n    },\n    clearTimer(){\n      clearInterval(this.timeout);\n    },\n    getScanTime(row){\n      //this.getList();\n      var date1=row.scanDatetime;\n      console.log(\"emdtime\"+row.scanedTime);\n      if (row.scanedTime === null ){\n        var date2 = new Date();\n      }else {\n        console.log(\"emdtime\"+row.scanedTime);\n        var date2 = row.scanedTime;\n      }\n      console.log(date1);\n      console.log(date2);\n      var date3 = new Date(date2).getTime() - new Date(date1).getTime();   //时间差的毫秒数\n      var subMinutes = Math.floor( date3/(60*1000) ); //获取总共的分钟差\n      //计算出相差天数\n      var days=Math.floor(date3/(24*3600*1000));\n      //计算出小时数\n\n      var leave1=date3%(24*3600*1000) ;   //计算天数后剩余的毫秒数\n      var hours=Math.floor(leave1/(3600*1000));\n      //计算相差分钟数\n      var leave2=leave1%(3600*1000)  ;      //计算小时数后剩余的毫秒数\n      var minutes=Math.floor(leave2/(60*1000));\n      //计算相差秒数\n      var leave3=leave2%(60*1000);      //计算分钟数后剩余的毫秒数\n      var seconds=Math.round(leave3/1000);\n      console.log(days+\"天 \"+hours+\"小时 \"+minutes+\" 分钟\"+seconds+\" 秒\");\n      return days+\"天 \"+hours+\"小时 \"+minutes+\" 分钟\"+seconds+\" 秒\";\n    },\n    /** 查询漏洞扫描历史记录列表 */\n    getList() {\n      this.loading = true;\n      this.queryParams.params = {};\n      if (null != this.daterangeScanDatetime && '' != this.daterangeScanDatetime) {\n        this.queryParams.params[\"beginScanDatetime\"] = this.daterangeScanDatetime[0];\n        this.queryParams.params[\"endScanDatetime\"] = this.daterangeScanDatetime[1];\n      }\n      listHistory(this.queryParams).then(response => {\n        this.historyList = response.rows;\n        this.total = response.total;\n        this.loading = false;\n      });\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n    },\n    // 表单重置\n    reset() {\n      this.queryParams = {\n        pageNum: 1,\n        pageSize: 10,\n        command: null,\n        targetRange: null,\n        scanDatetime: null,\n        highriskRate: null,\n        results:null,\n      };\n      this.daterangeScanDatetime = [];\n      //this.vulnSingleAddrDetailsList = [];\n      //this.reset(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.reset();\n      //this.handleQuery();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.recordsId)\n      this.single = selection.length!==1\n      this.multiple = !selection.length\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset();\n      this.open = true;\n      this.title = \"添加漏洞扫描历史记录\";\n    },\n    /** 扫描漏洞 **/\n    handleScanVuln(){\n      scanVuln();\n    },\n\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          this.form.vulnSingleAddrDetailsList = this.vulnSingleAddrDetailsList;\n          if (this.form.recordsId != null) {\n            updateHistory(this.form).then(response => {\n              this.$modal.msgSuccess(\"修改成功\");\n              this.open = false;\n              this.getList();\n            });\n          } else {\n            addHistory(this.form).then(response => {\n              this.$modal.msgSuccess(\"新增成功\");\n              this.open = false;\n              this.getList();\n            });\n          }\n        }\n      });\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const recordsIds = row.recordsId || this.ids;\n      this.$modal.confirm('是否确认删除漏洞扫描历史记录编号为\"' + recordsIds + '\"的数据项？').then(function() {\n        return delHistory(recordsIds);\n      }).then(() => {\n        this.getList();\n        this.$modal.msgSuccess(\"删除成功\");\n      }).catch(() => {});\n    },\n\n\t/** 单条地址扫描结果序号 */\n    rowVulnSingleAddrDetailsIndex({ row, rowIndex }) {\n      row.index = rowIndex + 1;\n    },\n    /** 单条地址扫描结果添加按钮操作 */\n    handleAddVulnSingleAddrDetails() {\n      let obj = {};\n      obj.ipv6Addr = \"\";\n      obj.resultDetails = \"\";\n      this.vulnSingleAddrDetailsList.push(obj);\n    },\n    /** 单条地址扫描结果删除按钮操作 */\n    handleDeleteVulnSingleAddrDetails() {\n      if (this.checkedVulnSingleAddrDetails.length == 0) {\n        this.$modal.msgError(\"请先选择要删除的单条地址扫描结果数据\");\n      } else {\n        const vulnSingleAddrDetailsList = this.vulnSingleAddrDetailsList;\n        const checkedVulnSingleAddrDetails = this.checkedVulnSingleAddrDetails;\n        this.vulnSingleAddrDetailsList = vulnSingleAddrDetailsList.filter(function(item) {\n          return checkedVulnSingleAddrDetails.indexOf(item.index) == -1\n        });\n      }\n    },\n    /** 复选框选中数据 */\n    handleVulnSingleAddrDetailsSelectionChange(selection) {\n      this.checkedVulnSingleAddrDetails = selection.map(item => item.index)\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      this.download('vuln/history/export', {\n        ...this.queryParams\n      }, `history_${new Date().getTime()}.xlsx`)\n    },\n\n  }\n};\n</script>\n"]}]}